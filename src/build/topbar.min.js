(function(){var h=h||{},x=x||{},F=F||{};requestAnimationFrame=window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(a){window.setTimeout(a,1E3/60)};var n=Array.prototype,aa=Object.prototype.hasOwnProperty,q=n.slice,G=n.forEach,H=n.indexOf,I=n.map,J=n.filter,K=n.some,A=Function.prototype.bind,L=function(){},B={},M=function(a,b){return aa.call(a,b)},r=function(a,b,c){if(null!=a)if(G&&a.forEach===G)a.forEach(b,c);
else if(a.length===+a.length)for(var d=0,e=a.length;d<e&&!(d in a&&b.call(c,a[d],d,a)===B);d++);else for(d in a)if(M(a,d)&&b.call(c,a[d],d,a)===B)break},N=function(a){return a},O=function(a,b,c){c||(c=N);for(var d=0,e=a.length;d<e;){var f=d+e>>1;c(a[f])<c(b)?d=f+1:e=f}return d},C=function(a,b){this.x=a||0;this.y=b||0};(common={has:M,each:r,compact:function(a){var b=function(a){return!!a},c=[];null==a?a=c:J&&a.filter===J?a=a.filter(b,void 0):(r(a,function(a,e,f){b.call(void 0,a,e,f)&&(c[c.length]=
a)}),a=c);return a},bind:function(a,b){var c,d;if(a.bind===A&&A)return A.apply(a,q.call(arguments,1));if(!this.isFunction(a))throw new TypeError;d=q.call(arguments,2);return c=function(){if(!(this instanceof c))return a.apply(b,d.concat(q.call(arguments)));L.prototype=a.prototype;var e=new L,f=a.apply(e,d.concat(q.call(arguments)));return Object(f)===f?f:e}},bindAll:function(a){var b=q.call(arguments,1);0==b.length&&(b=this.functions(a));this.each(b,function(b){a[b]=this.bind(a[b],a)},this);return a},
functions:function(a){var b=[],c;for(c in a)this.isFunction(a[c])&&b.push(c);return b.sort()},extend:function(a){r(q.call(arguments,1),function(b){for(var c in b)a[c]=b[c]});return a},map:function(a,b,c){var d=[];if(null==a)return d;if(I&&a.map===I)return a.map(b,c);r(a,function(a,f,i){d[d.length]=b.call(c,a,f,i)});a.length===+a.length&&(d.length=a.length);return d},any:function(a,b,c){b||(b=this.identity);var d=!1;if(null==a)return d;if(K&&a.some===K)return a.some(b,c);r(a,function(a,f,i){if(d||
(d=b.call(c,a,f,i)))return B});return!!d},indexOf:function(a,b,c){if(null==a)return-1;var d;if(c)return c=O(a,b),a[c]===b?c:-1;if(H&&a.indexOf===H)return a.indexOf(b);c=0;for(d=a.length;c<d;c++)if(c in a&&a[c]===b)return c;return-1},sortedIndex:O,identity:N,after:function(a,b){return 0>=a?b():function(){if(1>--a)return b.apply(this,arguments)}},debounce:function(a,b,c){var d;return function(){var e=this,f=arguments;c&&!d&&a.apply(e,f);clearTimeout(d);d=setTimeout(function(){d=null;c||a.apply(e,f)},
b)}},clone:function(a){return!this.isObject(a)?a:this.isArray(a)?a.slice():this.extend({},a)},isElement:function(a){return!!(a&&1==a.nodeType)},isArray:Array.isArray||function(a){return"[object Array]"==toString.call(a)},toArray:function(a){return!a?[]:this.isArray(a)||this.isArguments(a)?q.call(a):a.toArray&&this.isFunction(a.toArray)?a.toArray():this.values(a)},values:function(a){return this.map(a,this.identity)},once:function(a){var b=!1,c;return function(){if(b)return c;b=!0;return c=a.apply(this,
arguments)}},isObject:function(a){return a===Object(a)},isNumber:function(a){return"[object Number]"==toString.call(a)},isFunction:function(a){return"[object Function]"==toString.call(a)||"function"==typeof a},isUndefined:function(a){return void 0===a},isNull:function(a){return null===a},isRegExp:function(a){return"[object RegExp]"==toString.call(a)}}).extend(C.prototype,{set:function(a,b){this.x=a;this.y=b;return this},copy:function(a){this.x=a.x;this.y=a.y;return this},clear:function(){this.y=this.x=
0;return this},clone:function(){return new C(this.x,this.y)},add:function(a,b){this.x=a.x+b.x;this.y=a.y+b.y;return this},addSelf:function(a){this.x+=a.x;this.y+=a.y;return this},sub:function(a,b){this.x=a.x-b.x;this.y=a.y-b.y;return this},subSelf:function(a){this.x-=a.x;this.y-=a.y;return this},multiplySelf:function(a){this.x*=a.x;this.y*=a.y;return this},multiplyScalar:function(a){this.x*=a;this.y*=a;return this},divideScalar:function(a){a?(this.x/=a,this.y/=a):this.set(0,0);return this},negate:function(){return this.multiplyScalar(-1)},
dot:function(a){return this.x*a.x+this.y*a.y},lengthSq:function(){return this.x*this.x+this.y*this.y},length:function(){return Math.sqrt(this.lengthSq())},normalize:function(){return this.divideScalar(this.length())},distanceTo:function(a){return Math.sqrt(this.distanceToSquared(a))},distanceToSquared:function(a){var b=this.x-a.x,a=this.y-a.y;return b*b+a*a},setLength:function(a){return this.normalize().multiplyScalar(a)},equals:function(a){return 1E-4>this.distanceTo(a)},lerp:function(a,b){return this.set((a.x-
this.x)*b+this.x,(a.y-this.y)*b+this.y)},isZero:function(){return 1E-4>this.lengthSq()}});var ba=Vector=C,j=common,n=function(a,b){this.__coords=[];this.__isCurve=!0;this.domElement=a;this.commands=[];this.particles=[];this.mass=j.isNumber(b)?b:0.2;this.origin=new ba;var c=a.getAttribute("d"),d=a.getAttribute("points"),e=this.domElement.getBoundingClientRect();this.origin.x=e.width/2;this.origin.y=e.height/2;if(c){var f=0,i=0;j.each(c.match(/[mMzZLlHhVvCcSs][0-9\.\-\,]*/g),function(a){var b=a[0],
a=j.compact(a.substring(1).replace(/\-/g,",-").split(/\,/g)),c=a.length,a=j.map(a,function(a,d){var e=parseFloat(a);/[mzlhvcs]/.test(b)&&(e=0===d%2?e+f:e+i);d===c-2?f=e:d===c-1&&(i=e);return e});this.commands.push(b.toUpperCase());this.__coords.push(j.map(a,function(a){return a}))},this)}else if(d){this.__isCurve=!1;var g=[];j.each(d.split(/[\,(\s\r\n)*]/),function(a){a&&(a=parseFloat(a),g.push(a),1<g.length&&(this.__coords.push(g.slice(0)),g.length=0))},this)}this.origin.x+=this.__coords[0][0]/2;
this.origin.y+=this.__coords[0][1]/2};j.extend(n.prototype,{setParticleSystem:function(a){this.ParticleSystem=a;j.each(this.__coords,function(b){for(var c=[],d=0,e=b.length;d<e;d+=2){var f=b[d],i=b[d+1],g=a.makeParticle(this.mass,f,i),f=a.makeParticle(this.mass,f,i);f.makeFixed();c.push(g);a.makeSpring(g,f,0.2,0.0625,0)}this.particles.push(c)},this);a.animations.push(j.bind(this.update,this));return this},update:function(){if(this.__isCurve){var a=this.particles,b="";j.each(this.commands,function(c,
e){b+=c;j.each(a[e],function(a,c){var d=a.position.x,e=a.position.y;b=0>d||0===c?b+d:b+(","+d);b=0>e?b+e:b+(","+e)})});this.domElement.setAttribute("d",b)}else{var c="";j.each(this.particles,function(a){a=a[0];c+=a.position.x+", "+a.position.y+" "});this.domElement.setAttribute("points",c)}}});var ca=h.AnimatedPath=n,t=Vector,D=Vector,h=function(a){this.position=new D;this.velocity=new D;this.force=new D;this.mass=a;this.fixed=!1;this.age=0;this.dead=!1};common.extend(h.prototype,{distanceTo:function(a){return this.position.distanceTo(a.position)},
makeFixed:function(){this.fixed=!0;this.velocity.clear();return this},reset:function(){this.age=0;this.dead=!1;this.position.clear();this.velocity.clear();this.force.clear();this.mass=1;return this},resting:function(){return this.fixed||this.velocity.isZero()&&this.force.isZero()}});var P=Particle=h,Q=Vector,h=function(a,b,c,d,e){this.constant=c;this.damping=d;this.length=e;this.a=a;this.b=b;this.on=!0};common.extend(h.prototype,{currentLength:function(){return this.a.position.distanceTo(this.b.position)},
update:function(){var a=this.a,b=this.b;if(!this.on||a.fixed&&b.fixed)return this;var c=(new Q).sub(a.position,b.position),d=c.length();0===d?c.clear():c.divideScalar(d);var d=-1*(d-this.length)*this.constant,e=(new Q).sub(a.velocity,b.velocity),e=-1*this.damping*e.dot(c);c.multiplyScalar(d+e);a.fixed||a.force.addSelf(c);b.fixed||b.force.subSelf(c);return this},resting:function(){var a=this.a,b=this.b,c=this.length;return a.fixed&&b.fixed||a.fixed&&(0===c?b.position.equals(a.position):b.position.distanceTo(a.position)<=
c)&&b.resting()||b.fixed&&(0===c?a.position.equals(b.position):a.position.distanceTo(b.position)<=c)&&a.resting()}});var R=Spring=h,da=Vector,h=function(a,b,c,d){this.a=a;this.b=b;this.constant=c;this.on=!0;this.distanceMin=d;this.distanceMinSquared=d*d};common.extend(h.prototype,{update:function(){var a=this.a,b=this.b;if(this.on&&(!a.fixed||!b.fixed)){var c=(new da).sub(a.position,b.position),d=Math.max(c.lengthSq(),this.distanceMinSquared),e=this.constant*a.mass*b.mass/d,d=Math.sqrt(d);0===e||
0===d?c.clear():c.divideScalar(d).multiplyScalar(e);a.fixed||a.force.subSelf(c);b.fixed||b.force.addSelf(c);return this}},resting:function(){var a=this.a,b=this.b,c=this.distanceMin;return a.fixed&&b.fixed||a.fixed&&b.position.distanceTo(a.position)<=c&&b.resting()||b.fixed&&a.position.distanceTo(b.position)<=c&&a.resting()}});var S=Attraction=h,k=Vector,l=common,h=function(a){this.s=a;this.originalPositions=[];this.originalVelocities=[];this.k1Forces=[];this.k1Velocities=[];this.k2Forces=[];this.k2Velocities=
[];this.k3Forces=[];this.k3Velocities=[];this.k4Forces=[];this.k4Velocities=[]};l.extend(h.prototype,{allocateParticles:function(){for(;this.s.particles.length>this.originalPositions.length;)this.originalPositions.push(new k),this.originalVelocities.push(new k),this.k1Forces.push(new k),this.k1Velocities.push(new k),this.k2Forces.push(new k),this.k2Velocities.push(new k),this.k3Forces.push(new k),this.k3Velocities.push(new k),this.k4Forces.push(new k),this.k4Velocities.push(new k);return this},step:function(a){var b=
this.s,c,d;this.allocateParticles();l.each(b.particles,function(a,b){a.fixed||(this.originalPositions[b].copy(a.position),this.originalVelocities[b].copy(a.velocity));a.force.clear()},this);b.applyForces();l.each(b.particles,function(a,b){a.fixed||(this.k1Forces[b].copy(a.force),this.k1Velocities[b].copy(a.velocity));a.force.clear()},this);l.each(b.particles,function(b,f){if(!b.fixed){var i=this.originalPositions[f],g=this.k1Velocities[f];c=i.x+0.5*g.x*a;d=i.y+0.5*g.y*a;b.position.set(c,d);i=this.originalVelocities[f];
g=this.k1Forces[f];c=i.x+0.5*g.x*a/b.mass;d=i.y+0.5*g.y*a/b.mass;b.velocity.set(c,d)}},this);b.applyForces();l.each(b.particles,function(a,b){a.fixed||(this.k2Forces[b].copy(a.force),this.k2Velocities[b].copy(a.velocity));a.force.clear()},this);l.each(b.particles,function(b,c){if(!b.fixed){var d=this.originalPositions[c],g=this.k2Velocities[c];b.position.set(d.x+0.5*g.x*a,d.y+0.5*g.y*a);d=this.originalVelocities[c];g=this.k2Forces[c];b.velocity.set(d.x+0.5*g.x*a/b.mass,d.y+0.5*g.y*a/b.mass)}},this);
b.applyForces();l.each(b.particles,function(a,b){a.fixed||(this.k3Forces[b].copy(a.force),this.k3Velocities[b].copy(a.velocity));a.force.clear()},this);l.each(b.particles,function(b,c){if(!b.fixed){var d=this.originalPositions[c],g=this.k3Velocities[c];b.position.set(d.x+g.x*a,d.y+g.y*a);d=this.originalVelocities[c];g=this.k3Forces[c];b.velocity.set(d.x+g.x*a/b.mass,d.y+g.y*a/b.mass)}},this);b.applyForces();l.each(b.particles,function(a,b){a.fixed||(this.k4Forces[b].copy(a.force),this.k4Velocities[b].copy(a.velocity))},
this);l.each(b.particles,function(b,c){b.age+=a;if(!b.fixed){var d=this.originalPositions[c],g=this.k1Velocities[c],h=this.k2Velocities[c],s=this.k3Velocities[c],j=this.k4Velocities[c],k=d.x+a/6*(g.x+2*h.x+2*s.x+j.x),d=d.y+a/6*(g.y+2*h.y+2*s.y+j.y);b.position.set(k,d);d=this.originalVelocities[c];g=this.k1Forces[c];h=this.k2Forces[c];s=this.k3Forces[c];j=this.k4Forces[c];k=d.x+a/(6*b.mass)*(g.x+2*h.x+2*s.x+j.x);d=d.y+a/(6*b.mass)*(g.y+2*h.y+2*s.y+j.y);b.velocity.set(k,d)}},this);return this}});var T=
Integrator=h,p=common,u=function(){this.__equilibrium=!1;this.particles=[];this.springs=[];this.attractions=[];this.forces=[];this.integrator=new T(this);this.hasDeadParticles=!1;var a=arguments.length;2===a?(this.gravity=new t(0,arguments[0]),this.drag=arguments[1]):3===a?(this.gravity=new t(arguments[0],arguments[1]),this.drag=arguments[3]):(this.gravity=new t(0,u.DEFAULT_GRAVITY),this.drag=u.DEFAULT_DRAG)};p.extend(u,{DEFAULT_GRAVITY:0,DEFAULT_DRAG:0.001,Attraction:S,Integrator:T,Particle:P,Spring:R,
Vector:t});p.extend(u.prototype,{setGravity:function(a,b){this.gravity.set(a,b);return this},tick:function(){this.integrator.step(0===arguments.length?1:arguments[0]);this.__equilibrium=!this.needsUpdate();return this},needsUpdate:function(){needsUpdate=!1;for(var a=0,b=this.springs.length;a<b;a++)if(!this.springs[a].resting()){needsUpdate=!0;break}if(!needsUpdate){a=0;for(b=this.attractions.length;a<b;a++)if(!this.attractions[a].resting()){needsUpdate=!0;break}}return needsUpdate},addParticle:function(a){this.particles.push(a);
return this},addSpring:function(a){this.springs.push(a);return this},addAttraction:function(a){this.attractions.push(a);return this},makeParticle:function(a,b,c){a=p.isNumber(a)?a:1;b=b||0;c=c||0;a=new P(a);a.position.set(b,c);this.addParticle(a);return a},makeSpring:function(a,b,c,d,e){a=new R(a,b,c,d,e);this.addSpring(a);return a},makeAttraction:function(a,b,c,d){a=new S(a,b,c,d);this.addAttraction(a);return a},clear:function(){this.particles.length=0;this.springs.length=0;this.attractions.length=
0},applyForces:function(){this.gravity.isZero()||p.each(this.particles,function(a){a.force.addSelf(this.gravity)},this);var a=new t;p.each(this.particles,function(b){a.set(-1*b.velocity.x*this.drag,-1*b.velocity.y*this.drag);b.force.addSelf(a)},this);p.each(this.springs,function(a){a.update()});p.each(this.attractions,function(a){a.update()});p.each(this.forces,function(a){a.update()});return this},clearForces:function(){p.each(this.particles,function(a){a.clear()});return this}});var y=ParticleSystem=
u,ea=requestAnimationFrame,v=common,E=function(){var a=this;this.tick();v.each(this.animations,function(a){a()});this.__equilibrium||ea(function(){E.call(a)})},h=function(){y.apply(this,arguments);this.animations=[];E.call(this)};v.extend(h,y,{superclass:y});v.extend(h.prototype,y.prototype,{onUpdate:function(a){if(0<=v.indexOf(this.animations,a)||!v.isFunction(a))return this;this.animations.push(a);return this},update:function(){this.__equilibrium&&(this.__equilibrium=!1,E.call(this));return this}});
var h=Physics=h,U=Vector;WebFontConfig={google:{families:["Lekton"]},typekit:{id:"ohq0hea"}};var x=x.loader={config:WebFontConfig,start:function(){var a=document.createElement("script");a.src=("https:"==document.location.protocol?"https":"http")+"://ajax.googleapis.com/ajax/libs/webfont/1/webfont.js";a.type="text/javascript";a.async="true";var b=document.getElementsByTagName("script")[0];b.parentNode.insertBefore(a,b)}},fa=F.label={add:function(a,b,c){var d=a.attr("alt"),e=!!c;if(d&&!(0>=d.length||
a.hasClass("has-label"))){var c=marked(d),f=$('<div class="label image" />').html(c).appendTo(b||document.body),b=$(b||document.body),c=function(){var c,d,i;e?c={left:0,top:0}:(d=b.offset().top,c=a.offset(),i=(a.outerWidth()-a.width())/2,d=(a.outerHeight()-a.height())/2-d,c={left:c.left+i+"px",top:c.top+d+"px"});f.css(c).fadeIn(150)},d=function(a){a=$(a.relatedTarget);!a.hasClass("image")&&!a.hasClass("label")&&f.fadeOut(150)},i=e?b:a;a.addClass("has-label");i.hover(c,d).bind("touchstart",c).bind("touchend",
d);return f}}},m=common,V=function(){var a=w.offset();return $(document).scrollTop()<a.top+w.outerHeight()},Y=function(a,b){var c=$(window).width(),d=$(window).height(),e=c>d?c:d,f=new U(a,b),c=w.offset(),i=new U(c.left,c.top);m.each(W,function(a){f.distanceTo(a.origin);var b=f.clone().subSelf(i).subSelf(a.origin);m.each(a.particles,function(a){m.each(a,function(a){var c=0+1*((e-a.position.clone().multiplyScalar(4).distanceTo(b)-0)/(e-0));a.position.lerp(b,Math.max(Math.min(c/16,1),0));a.velocity.set(0,
0);a.force.set(0,0)},this)},a)});X.update()},Z=function(){m.each($("img"),function(a){fa.add($(a),z)});m.each($(".slideshow").not(".touched"),function(a){var b=0,c=a.children.length,d=$(a).addClass("touched"),e=d.width();d.css({}).bind("click",function(b){b.preventDefault();var b=d.find(".selected").removeClass("selected"),f=(m.indexOf(a.children,b[0])+1)%c,h=parseInt(d.css("marginLeft").replace("px","")),j=$(a.children[f]).addClass("selected"),h=0<f?h-(j.outerWidth(!0)+b.outerWidth(!0))/2:(e-j.outerWidth(!0))/
2;d.css({marginLeft:h+"px"});$(".label").each(function(){$(this).fadeOut(150)})});var f=m.after(c,function(){d.width(b+b/c).fadeIn(function(){d.css({marginLeft:(e-$(a.children[0]).outerWidth(!0))/2})}).addClass("animated")});d.find(":first-child").addClass("selected");m.each(a.children,function(a){var c=$(a).addClass("animated"),a=c.outerWidth(!0);0>=a?c.load(function(){b+=c.outerWidth(!0)||parseFloat(c.css("width"));f()}):(b+=a,f())})})},X=new h,z;x.start();var ga=/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i,
w,W;$(function(){z=$("#container");1>z.length&&(z=document.body);Z();m.each($("pre"),function(a){a.className+=" prettyprint linenums";var b=a.innerHTML,e=RegExp("^"+b.match(/^\s*/)[0],"gim");a.innerHTML=b.replace(e,"").replace()});prettyPrint();w=$("#logo");W=m.map(w.find("path, polyline"),function(a){return(new ca(a)).setParticleSystem(X)});$(window).bind("mousedown",function(a){V()&&Y(a.clientX,a.clientY)}).bind("touchend",function(a){a=a.originalEvent.changedTouches[0];V()&&Y(a.pageX,a.pageY)});
var a=$("#xdhdhj-xdhdhj")[0],b=$("#subscribe").keyup(function(){ga.test(a.value)?b.addClass("eligible"):b.hasClass("eligible")&&b.removeClass("eligible")}).find('input[type="submit"]');$(document).bind("update-slideshow",Z)})})();